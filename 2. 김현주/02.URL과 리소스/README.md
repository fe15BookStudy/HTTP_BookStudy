# URL과 리소스

- URL(Uniform Resource Locator) : 인터넷상의 리소스 위치를 가리키는 표준방법
  - 절대 URL과 상대 URL의 차이점과 사용법
    - 절대 URL : 전체 경로가 포함된 URL (http://www.joes-hardware.com/tools.html)
    - 상대 URL : 기준(기저) URL을 기반으로 계산되는 URL (/hammers.html)
    - 브라우저는 기저 URL과 상대 URL을 결합해 절대 URL을 생성.

# 리소스랑 무엇인가?

- 인터넷의 모든 정보(문서, 이미지, 동영상 등)
- 우리는 이 방대한 리소스를 어떻게 찾고 구분할 수 있을까요?
  - 책에 ISBN(국제표준도서번호)이 있듯, 인터넷 리소스에는 고유한 주소가 필요합니다.
- URL은 바로 이 인터넷상의 리소스가 어디에 있고 어떻게 접근할 수 있는지 알려주는 표준화된 주소 체계입니다.

- 리소스 접근방법
  - HTTP를 통한 웹 리소스 접근
  - 다양한 프로토콜(FTP, mailto 등) 지원
  - 사용자 이름과 비밀번호를 포함한 인증 방법

# 안전하지 않은 문자와 인코딩

| 문자            | 선점 및 제한                                                                                                                                                         |
| --------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| %               | 인코딩된 문자에 사용할 이스케이프 토큰으로 선점                                                                                                                      |
| /               | 경로 컴포넌트에 있는 경로 세그먼트를 나누는 용도로 선점                                                                                                              |
| .               | 경로 컴포넌트에서 선점                                                                                                                                               |
| ..              | 경로 컴포넌트에서 선점                                                                                                                                               |
| #               | 프래그먼트의 구획 문자로 선점                                                                                                                                        |
| ?               | 질의 문자열의 구획 문자로 선점                                                                                                                                       |
| ;               | 스킴, 사용자 이름/비밀번호, 호스트/포트의 구획 문자로 선점                                                                                                           |
| $, +            | 선점                                                                                                                                                                 |
| @ & =           | 특정 스킴에서 특별한 의미가 있기 떄문에 선점                                                                                                                         |
| {} \ . ~[]`     | 게이트웨이와 같은 여러 전송 에이전트에서 불안전하게 다루기 때문에 제한됨                                                                                             |
| <>"             | 안전하지 않음. 웹 문서에서 URL을 구분지어 표시하듯이(예를 들어 'http://www.joes-hardware.com'), URL 범위 밖에서 역할이 있는 문자이기 떄문에 반드시 인코딩 해야 한다. |
| 0x00-0x1F, 0x7F | 제한됨. 이 16진수 범위에 속하는 문자들은 인쇄되지 않는 US-ASCII문자다.                                                                                               |
| > 0x7F          | 제한됨. 이 16진수 범위에 속하는 문자들은 7비트 US-ASCII문자가 아니다.                                                                                                |
|                 |

# URL의 기본 구조

- URL은 크게 세 부분으로 구성됩니다.
  - 스킴(scheme):// 호스트(Host) /경로
    - 스킴(URL은 스킴(프로토콜 이름) 으로 시작): http, https → 웹 문서, ftp → 파일 전송, file → 로컬 파일, mailto → 이메일 주소, news → 뉴스 그룹, telnet → 원격 접속
- 예시: http://www.joes-hardware.com/seasonal/index-fall.html
- http : 어떻게 리소스에 접근할 것인가? (프로토콜)
- www.joes-hardware.com : 리소스가 어디에 있는가? (서버 위치)
- /seasonal/index-fall.html : 서버의 어떤 리소스를 원하는가? (파일 경로)
  ![Untitled](client.png)

# URL 처리과정

- 브라우저가 URL을 해석하고 서버에 요청하는 과정
- 상대 URL을 절대 URL로 변환하는 알고리즘
- Base URL 개념과 활용

# URL의 전체문법(9가지 구성요소)

- URL은 최대 9가지 표준 구성요소로 이루어집니다.
- <스킴>:// <사용자이름>: <비밀번호>@ <호스트> :<포트> /<경로> ;<파라미터> ?<질의> #<프래그먼트>

| 구성요소             | 설명                                               |
| -------------------- | -------------------------------------------------- |
| 스킴(Scheme)         | 사용할 프로토콜 (e.g., http, ftp, mailto)          |
| 사용자이름           | 일부 스킴에서 필요한 사용자 이름                   |
| 비밀번호             | 사용자의 비밀번호                                  |
| 호스트(Host)         | 리소스를 가진 서버의 주소 (도메인 또는 IP)         |
| 포트(Port)           | 서버가 열어놓은 접속 통로 번호 (http의 기본값: 80) |
| 경로(Path)           | 서버 내 리소스의 상세 경로                         |
| 파라미터(Parameter)  | 특정 스킴에서 경로를 보충하는 추가 정보            |
| 질의(Query)          | 서버에 동적으로 데이터를 전달하기 위한 문자열      |
| 프래그먼트(Fragment) | 리소스 내부의 특정 위치를 가리키는 식별자          |

# 상세분석 - 질의 문자열(Query String)

- 목적: 웹 애플리케이션에 추가적인 정보를 전달하여 동적인 결과를 동적으로 얻기 위해 사용됩니다.
- 문법:
  - 경로 뒤에 물음표(?)로 시작합니다.
  - 이름=값 형태의 쌍으로 구성됩니다
  - 여러 개의 상은 앰퍼샌드(&)로 구분합니다.
- 예시: http://www.joes-hardware.com/inventory-check.cgi?item=12731&color=blue
  - 서버의 inventory-check.cgi프로그램에
  - item은 12731이고, color는 blue인 상품의
  - 재고 확인을 요청하는 URL입니다.

# 상세분석2 - 프래그먼트(Fragment)

- 목적 : 전체 리소스를 가져온 후, 웹 브라우저가 리소스의 특정 부분(e.g.,특정 문단, 챕터)을 보여주도록 합니다.
- 문법 :
  - URL의 가장 마지막에 해시(#)문자로 시작합니다.
- 중요 특징
  - 프래그먼트는 서버로 전송되지 않습니다.
  - 전적으로 클라이언트(웹브라우저)에서만 사용됩니다.
- 예시: http://www.joes-hardware.com/tools.html#drills
  - 서버에서 tools.html 파일을 가져온 후,
  - 브라우저가 drills라는 id를 가진 부분으로 화면을 스크롤 합니다.

# 결론 및 요약

- URL은 인터넷상의 방대한 리소스를 식별하고 위치를 차즌 표준화된 방법입니다.
- 단순한 주소처럼 보이지만, 9가지의 체계적인 구성요소를 통해 리소스에 접근하는 방법, 서버 우치, 특정 데이터 요청까지 다양한 정보를 담고 있습니다.
- 특히, 질의 문자열(?)과 프래그먼트(#)의 차이를 이해하는 것은 동적인 웹의 작동방식을 이해하는데 핵심적입니다.
