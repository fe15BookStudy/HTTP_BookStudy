#### 1장 HTTP 개관(Hyper Text Transfer Protocol의 약자)

- HTTP의 정의: 인터넷의 멀티미디어 배달부 역할을 하는 프로토콜
- 기본 기능: 웹 서버와 클라이언트 간의 데이터 전송을 담당
- 핵심 역할 : 웹 브라우저(클라이언트)와 웹 서버(서버)가 서로 대화하기 위한 통신 규칙(약속)
- 목표 : 클라이언트가 서버에게 HTML 문서, 이미지같은 웹 리소스를 요청하고, 서버가 이에 응답하게 하는 것
- 중요한 특징 2가지

  1. 무상태성 (Stateless) : HTTP는 **"상태를 저장하지 않는다"**는 큰 특징이 있습니다. 각 통신은 완전히 독립적이며, 서버는 이전 요청이 무엇이었는지 기억하지 않습니다.
  2. 지속 연결 (Persistent Connection) : HTTP/1.1의 핵심적인 성능 개선 기능입니다.

  - 과거 (HTTP/1.0): 웹페이지를 보려면 HTML 파일, CSS 파일, 이미지 3개를 받아야 할 때, 총 3번의 TCP 연결을 새로 맺고 끊어야 했습니다. 이는 매우 비효율적이었습니다.

  - 현재 (HTTP/1.1): 한 번 TCP 연결을 맺으면, 그 연결을 통해 여러 개의 요청과 응답을 주고받을 수 있습니다. 전화 한 통으로 여러 용건을 한 번에 말하는 것처럼 효율적입니다. 이를 Keep-Alive 기능이라고도 부릅니다.

#### 1.2 웹 클라이언트와 서버

- 클라이언트(웹브라우저)가 HTTP 요청을 서버에 보냄
- 서버가 요청된 데이터를 HTTP 응답으로 돌려줌
- 예시: www.google.com 접속 과정 설명

#### HTTP 통신의 기본 흐름

1. 주소 입력 및 IP확인(DNS조회) -> 2. 서버에 연결 요청(TCP 연결) -> 3. "자료 좀 주세요" (HTTP 요청) -> 4. "여기 있습니다"(HTTP 응답) -> 5. 화면에 그리기(렌더링)

- URL 입력: 사용자가 브라우저에 http://www.google.com과 같은 주소를 입력합니다.

- DNS 조회: 브라우저는 (http://www.google.com)이라는 도메인 이름에 해당하는 서버의 IP 주소를 찾습니다.

- TCP 연결: 브라우저는 찾아낸 서버의 IP 주소와 지정된 포트(HTTP의 경우 보통 80번)를 사용하여 서버와 TCP 연결을 맺습니다.

- HTTP 요청 전송: 연결이 수립되면, 브라우저는 서버에게 다음과 같은 HTTP 요청 메시지를 보냅니다.

> HTTP

> GET /tools.html HTTP/1.1
> Host: www.google.com

- HTTP 응답 수신: 서버는 요청을 처리한 후, 상태 코드(예: 200 OK)와 함께 요청한 웹페이지의 HTML 데이터를 응답 메시지로 보냅니다.

- 연결 종료 및 렌더링: 브라우저는 서버로부터 응답을 모두 받은 후 TCP 연결을 닫고, 받은 HTML을 해석하여 사용자 화면에 웹페이지를 보여줍니다.

#### 1.3 리소스

- 웹 리소스: HTML 파일, 이미지, 동영상 등 웹 콘텐츠
- MIME 타입: 데이터 형식을 구분하는 표준 (예: image/jpeg, text/html)

#### 1.4 트랜잭션

- HTTP 메서드: GET, POST, PUT, DELETE 등의 요청 명령

  - GET: 리소스 조회 (가져오기). 가장 흔하게 사용됩니다. (예: 웹페이지 보기)

  - POST: 데이터 제출 및 처리. 서버에 새로운 리소스를 생성하거나 데이터를 보낼 때 사용됩니다. (예: 회원가입, 게시글 작성)

  - PUT: 리소스 생성 또는 전체 수정. POST와 비슷하지만, 동일한 요청을 여러 번 보내도 결과가 같다는 특징이 있습니다. (예: 사용자 정보 전체 업데이트)

  - DELETE: 리소스 삭제. 이름 그대로 서버의 특정 리소스를 삭제하도록 요청합니다. (예: 게시글 삭제)

- 상태 코드: 200(성공), 404(없음) 등 서버 응답 결과
- 메시지 형식: 요청과 응답의 구조화된 데이터 형태

-2xx (성공 ✅): 요청이 성공적으로 처리되었음을 의미합니다.

- 200 OK: 가장 일반적인 성공 응답입니다.

- 3xx (리다이렉션 ↪️): 요청을 완료하려면 추가적인 행동이 필요함을 의미합니다.

  - 301 Moved Permanently: 요청한 페이지의 주소가 영구적으로 바뀌었으니 앞으로는 새 주소로 요청하라는 뜻입니다.

- 4xx (클라이언트 오류 🚫): 요청 자체에 문제가 있을 때 발생합니다.

  - 404 Not Found: 가장 유명한 오류. 요청한 페이지나 리소스를 서버에서 찾을 수 없을 때 발생합니다.

  - 403 Forbidden: 요청한 리소스에 접근할 권한이 없을 때 발생합니다. (예: 로그인 안 한 상태로 회원 전용 페이지 접근)

- 5xx (서버 오류 💣): 서버 내부에서 문제가 발생하여 요청을 처리할 수 없을 때 발생합니다.

  - 500 Internal Server Error: 서버 코드에 버그가 있거나 처리 중 예상치 못한 문제가 발생했을 때 나타납니다.

#### 1.5 메시지

- HTTP 요청과 응답 메시지의 구성 요소 설명
- 단순한 줄 단위의 문자열로 구성

#### 1.6 TCP 커넥션

- TCP/IP 기반: HTTP는 TCP 위에서 동작
- 연결 과정: IP 주소와 포트번호를 통한 서버 연결
- 텔넷 예제: 실제 HTTP 통신 과정 시연

#### 1.7 프로토콜 버전

HTTP 버전 발전사

- HTTP/0.9: 1991년, 최초의 버전으로, 매우 단순했습니다. GET 메서드만 지원했고, 헤더나 버전 번호 없이 단순히 HTML 문서를 가져오는 기능만 있었습니다.
- HTTP/1.0: 1996년, 널리 사용된 첫 버전으로, 버전 번호, HTTP 헤더, 추가 메서드, 멀티미디어 콘텐츠 처리 기능이 추가되었습니다.
- HTTP/1.1: 현재 가장 널리 사용되는 버전 (1990년대 후반).성능 최적화, 지속 연결(keep-alive), 가상 호스팅 등 HTTP/1.0의 단점을 개선하고 기능을 확장했습니다. (RFC 2616)
- HTTP/2.0: HTTP/1.1의 성능 문제를 개선하기 위해 구글의 SPDY 프로토콜을 기반으로 설계된 최신 버전입니다.

#### 1.8 웹의 구성요소

- 에이전트(Agent): 사용자를 위한 HTTP 요청 생성 (ex.웹브라우저, 스파이더, 로봇 등)
- 프록시(Proxy): 클라이언트와 서버 사이의 중개자 역할을 합니다. 보안(바이러스 필터링), 특정 콘텐츠 차단, 성능 개선 등을 위해 사용됩니다.
- 캐시 (Cache): 자주 요청되는 웹 문서의 사본을 저장해두는 HTTP 창고입니다. 클라이언트가 문서를 요청할 때, 원 서버까지 가지 않고 가까운 캐시에서 바로 문서를 받아볼 수 있어 속도가 매우 빨라집니다.
- 게이트웨이(Gateway): 다른 프로토콜과 통신하는 중개 서버입니다. 예를 들어, 클라이언트의 HTTP 요청을 받아 FTP 서버에서 파일을 대신 가져와 전달해주는 역할을 할 수 있습니다.
- 터널: 두 커넥션 사이에서 데이터를 그대로 전달만 해주는 HTTP 애플리케이션입니다. 주로 방화벽을 통과하기 위해 암호화된 SSL 트래픽을 HTTP 연결로 감싸서 전달하는 데 사용됩니다.

#### 1.9 시작의 끝

- HTTP의 멀티미디어 전송 능력과 URI를 통한 원격 서버 리소스 접근
- 웹 애플리케이션 조사를 통한 HTTP 사용 마무리

#### 1.10 기타 웹사이트 및 정보

- W3C (http://www.w3.org): 웹 표준 개발 기구, HTML과 HTTP 등 웹 기술 표준화 담당
- RFC 문서들:

  - RFC 2396: URI 문법에 대한 정의
  - RFC 2141: URN 문법 명세 (1997년)
  - RFC 2046: MIME 타입에 대한 멀티미디어 콘텐츠 관리 표준

#### 1.10.1 HTTP 프로토콜 정보

- HTTP Pocket Reference: Clinton Wong과 O'Reilly가 출간한 HTTP 트랜잭션 구성 가이드
- W3C 웹페이지: HTTP 프로토콜에 대한 유용한 링크 제공
