# 01. HTTP: 웹의 기초

### 1장: HTTP 개관

- HTTP는 웹에서 정보를 주고받을 수 있게 해주는 프로토콜로, **Hypertext Transfer Protocol의 약자** . 이 프로토콜은 웹 브라우저와 서버 간의 데이터 전송 방식.

- TCP 연결을 이용해 데이터를 주고받으며, HTTP 요청과 HTTP 응답으로 통신한다.

<br>

#### 1.1 HTTP: 인터넷의 멀티미디어 배달부

- HTTP는 단순한 텍스트를 넘어서 이미지, 영상 등 **다양한 미디어 타입을 지원** .

- JPEG, HTML, 텍스트와 같은 다양한 형태의 콘텐츠를 처리하고 전달하는 방식이 존재한다.

<br>

#### 1.2 웹 클라이언트와 서버

- 웹 클라이언트는 서버에게 HTTP 요청을 보내고 서버는 해당 요청에 맞는 HTTP 응답을 제공한다.

- 예를 들어 웹사이트를 요청하면 웹 서버가 해당 웹 페이지의 데이터를 클라이언트에게 전송.

<br>

#### 1.3 리소스

- 웹 서버는 다양한 리소스를 관리하며 각 리소스는 파일 시스템에 저장된다.

- HTML, 이미지, 비디오, 텍스트 파일 등 다양한 유형의 데이터를 제공한다.

  - 1.3.1 미디어 타입

    HTTP는 **MIME (Multipurpose Internet Mail Extensions)** 형식으로 미디어 타입을 정의한다.

    이미지 파일은 Content-type: image/jpeg와 같이 파일의 형식을 지정하여 서버가 적절하게 처리할 수 있도록 한다.

  - 1.3.2 URI (Uniform Resource Identifier)

    URI는 웹 자원에 대한 고유한 식별자. 즉 리소스를 찾는 주소라고 할 수 있다. URI는 **URL (Uniform Resource Locator)**과 URN (Uniform Resource Name) 두 가지 종류로 나뉜다.

    URL은 리소스가 위치한 주소를 제공하며 URN은 리소스를 고유하게 식별하는 이름이다.

    1. `URL`: http://www.joes-hardware.com/specials/saw-blade.gif (웹 서버의 리소스를 정확히 찾을 수 있는 주소)

    2. `URN`: urn:ietf:rfc:2141 (리소스를 고유하게 식별하는 이름, 위치는 명시하지 않음)

  - 1.3.3 URL (Uniform Resource Locator)

    URL은 특정 리소스를 찾기 위한 웹 주소이다. URL은 두 부분으로 나뉜다:

    1. 프로토콜 (예: http, ftp)

    2. 호스트 이름 및 파일 경로 (예: www.joes-hardware.com/specials/saw-blade.gif)

    URL을 통해 우리가 인터넷에서 자원에 접근할 수 있다.

    - 1.3.4 URN (Uniform Resource Name)

    URN은 리소스를 고유하게 식별하는 이름이다. 위치 정보는 포함되지 않으며 리소스를 정확히 구별하기 위해 사용된다.

    예시: urn:ietf:rfc:2141

<br>

#### 1.4 트랜잭션

- HTTP 트랜잭션은 클라이언트와 서버 간의 요청과 응답으로 이루어진다. 이를 통해 웹 리소스를 가져오거나 데이터를 보낼 수 있다.

1. **HTTP 요청 (Request)**: 클라이언트가 서버에 요청을 보냄

2. **HTTP 응답 (Response)**: 서버가 요청에 대한 응답을 클라이언트에 전달

요청과 응답은 HTTP 메시지의 형태로 주고받는다.

- 1.4.2 상태 코드

  상태 코드는 HTTP 응답에서 서버가 요청을 어떻게 처리했는지를 나타내는 숫자이다.

  예시:

  - `200 OK`: 요청이 성공적으로 처리됨

  - `404 Not Found`: 요청한 리소스가 없음

  - `302 Found`: 리소스가 다른 위치로 이동됨

- 1.4.3 여러 페이지는 여러 객체로 이루어질 수 있다

  웹 페이지는 하나의 HTML 파일만으로 이루어지지 않는다. 일반적으로 하나의 웹 페이지는 여러 객체들(이미지, 스타일시트 등)로 구성된다.

  이 객체들은 각각 HTTP 요청을 통해 서버로부터 받아온다.

<br>

#### 1.5 메시지

- HTTP 메시지는 요청 메시지와 응답 메시지로 나뉜다. 요청 메시지는 클라이언트가 서버로 보내고, 응답 메시지는 서버가 클라이언트에게 보낸다.

- HTTP 메시지는 헤더와 본문으로 구성된다. 헤더에는 메타정보가 포함되며, 본문에는 실제 데이터가 포함된다.

  - 1.5.1 간단한 메시지의 예

    HTTP 메시지는 크게 요청 메시지와 응답 메시지로 나뉜다. 요청 메시지는 클라이언트가 서버에 보내는 메시지이며 응답 메시지는 서버가 클라이언트에게 보내는 메시지이다.

    요청 메시지에는 요청의 종류(예: GET), 요청하는 URL, 헤더, 본문 등이 포함된다.

    응답 메시지에는 상태 코드(예: 200 OK), 헤더, 본문 등이 포함된다.

<br>

#### 1.6 TCP 커넥션 (Transmission Control Protocol)

- TCP는 전송 제어 프로토콜로, 인터넷에서 데이터가 정확하게 전송되도록 보장한다. HTTP 메시지는 TCP 연결을 통해서 전송되며 클라이언트와 서버 간에 데이터를 안정적으로 전달할 수 있게 한다.

  - 1.6.1 TCP/IP

  HTTP는 TCP를 기반으로 동작한다. TCP는 데이터를 신뢰성 있게 전송할 수 있도록 보장하며 IP(인터넷 프로토콜)는 데이터의 주소를 처리한다.

  HTTP 요청은 먼저 TCP 연결을 통해 서버와 연결되며 그 후 HTTP 요청과 응답이 전송된다.

  - 1.6.2 접속, IP 주소 그리고 포트번호

  HTTP 요청은 IP 주소와 포트 번호를 통해 서버와 연결한다. IP 주소는 네트워크에서 서버의 위치를 나타내고 포트 번호는 서버에서 어떤 서비스를 사용할 것인지를 지정한다. 예를 들어, 웹 서버는 일반적으로 80번 포트를 사용한다. URL에서 <http://www.joes-hardware.com:80/tools.html>과 같은 형식으로 포트 번호를 명시할 수 있다.

  - 1.6.3 텔넷(Telnet) 이용한 실제 예

  **텔넷(Telnet)은 네트워크 연결을 테스트하거나 서버와 직접 통신하기 위한 방법.**

  텔넷을 사용하여 HTTP 요청을 보내고 응답을 받을 수 있다.

  - 예시:

          1. 텔넷 클라이언트를 사용하여 서버의 80번 포트에 연결한다.

          2. HTTP 요청을 수동으로 입력하여 서버와 통신한다.

          3. HTTP 응답을 직접 확인할 수 있다.

<br>

#### 1.7 프로토콜 버전

- HTTP 프로토콜은 여러 버전이 존재하며 각각의 버전은 이전 버전의 기능을 개선하거나 새로운 기능을 추가한다.

- `HTTP/0.9`: 1991년에 등장한 첫 번째 HTTP 프로토콜로, 매우 간단한 구조였으며 GET 요청만 지원했다.

- `HTTP/1.0`: 1996년에 발표된 버전으로, 여러 메서드와 상태 코드 등을 지원하며, MIME 타입을 통해 다양한 데이터 형식을 처리할 수 있게 되었다.

- `HTTP/1.1`: HTTP/1.0의 개선 버전으로, 연결을 재사용하는 keep-alive 기능을 추가하여 성능을 향상시켰다. 또한, 캐시 기능, 쿠키 지원 등 다양한 기능이 추가되었다.

- `HTTP/2.0`: HTTP/1.1을 기반으로 성능을 크게 향상시킨 버전으로, SPDY 프로토콜을 기반으로 하여 멀티플렉싱, 헤더 압축 등의 기능을 제공한다.

<br>

#### 1.8 웹의 구성 요소

- **프락시(Proxy)**: 클라이언트와 서버 간의 중간 역할을 하는 서버로, 클라이언트가 요청을 보내면 프락시 서버가 이를 서버에 전달하고 응답을 클라이언트에게 반환한다.

- **캐시(Cache)**: 자주 요청되는 데이터를 저장하여, 다음 요청 시 서버에 직접 요청하지 않고 빠르게 데이터를 반환할 수 있게 도와주는 기능이다.

- **게이트웨이(Gateway)**: 다른 프로토콜을 사용하는 서버와 연결되어 다른 프로토콜의 데이터를 처리하는 서버이다.

- **터널(Tunnel)**: HTTP 연결을 통해 다른 프로토콜을 전달하는 방식이다. 예를 들어, SSL을 사용할 때 HTTP를 통해 암호화된 데이터를 전달할 수 있다.

  - 1.8.1 프락시

  프락시는 클라이언트와 서버 간에 요청과 응답을 중계하는 서버로, 여러 가지 용도로 사용된다. 캐싱, 로드 밸런싱, 요청 필터링 등을 통해 성능을 최적화하고 보안을 강화할 수 있다.

  - 1.8.2 캐시

  캐시 프로토콜은 웹에서 자주 요청되는 데이터를 저장하여 서버의 부하를 줄이고 응답 속도를 향상시킨다. 캐시가 있는 데이터를 요청하면 서버에 대한 요청을 생략하고 바로 응답을 받을 수 있다.

  - 1.8.3 게이트웨이

  게이트웨이는 HTTP와 다른 프로토콜 간의 변환을 담당한다. 예를 들어, FTP와 HTTP 간의 변환을 처리하는 서버가 있을 수 있다. 게이트웨이를 사용하면 다양한 프로토콜 간의 데이터를 중계하고 변환할 수 있다.

  - 1.8.4 터널

  터널링은 HTTP 연결을 통해 다른 프로토콜(예: SSL)을 전달하는 방법. 이를 통해 중간 서버 없이 보안 연결을 할 수 있다.

  - 1.8.5 에이전트

  에이전트는 사용자에게 HTTP 요청을 생성하는 도구이다. 자동화된 웹 요청을 만들거나 브라우저의 동작을 제어하는 데 사용된다.예: 웹 브라우저, 검색 봇, 크롤러 등이 HTTP 요청을 생성하는 에이전트.
